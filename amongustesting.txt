        <section class="restaurants-page">
    <div class="container">
        <div class="row">
            <?php
            include("includes/seller_types.php");
            ?>    

            <div class="col-xs-12 col-sm-7 col-md-7 col-lg-9">
                <div class="bg-gray restaurant-entry">
                    <div class="row">
                        <?php 
                        if (isset($_GET['c_id'])) {
                            $query = "SELECT * FROM restaurant WHERE c_id = ".$_GET['c_id'];
                        } else {
                            $query = "SELECT * FROM restaurant";
                        }

                        $ress = mysqli_query($db, $query);

                        while($rows = mysqli_fetch_array($ress)) {
                            echo '<div class="col-sm-12 col-md-12 col-lg-8 text-xs-center text-sm-left">
                                    <div class="entry-logo">
                                        <a class="img-fluid" href="products.php?res_id='.$rows['rs_id'].'" > <img src="seller/Res_img/'.$rows['image'].'" alt="Merchant logo"></a>
                                    </div>
                                    <!-- end:Logo -->
                                    <div class="entry-dscr">
                                        <h5><a href="products.php?res_id='.$rows['rs_id'].'" >'.$rows['title'].'</a></h5>
                                        <span>'.substr($rows['description'], 0, 120);
                                        
                            if (strlen($rows['description']) > 120) {
                                echo '...';
                            }

                            echo '</span></br></br><span>'.$rows['address'].' <a href="#">...</a></span>
                                    </div>
                                    <!-- end:Entry description -->
                                </div>';

                            // Set default rating to 1 if not present
                            $rating = isset($rows['rating']) ? $rows['rating'] : 1;

                            
                            // Generate the rating block inside the loop
                            echo '<div class="col-sm-12 col-md-12 col-lg-4 text-xs-center">
                                    <div class="right-content bg-white">
                                        <div class="right-review">
                                            <div class="rating-block" data-resid="'.$rows['rs_id'].'" data-rating="'.$rating.'">';
                                            
                            // Loop through 5 stars and generate each one dynamically
                            for ($i = 1; $i <= 5; $i++) {
                                // Check if the star should be active or inactive
                                $class = ($i <= $rating) ? 'star-active' : 'star-inactive';
                                echo '<i class="fa fa-star '.$class.'"></i>';
                            }
                            

                            echo '</div>';

                            // Fetch average rating from the database
                            $avgRatingQuery = "SELECT AVG(rating) AS average_rating FROM user_ratings WHERE res_id = ".$rows['rs_id'];
                            $avgRatingResult = mysqli_query($db, $avgRatingQuery);
                            $avgRatingRow = mysqli_fetch_assoc($avgRatingResult);
                            $averageRating = $avgRatingRow['average_rating'];
                        
                            echo '<p class="average-rating">Avg Rating: ' . number_format($averageRating, 1) . '</p>';
                            
                            
                            echo '<a href="products.php?res_id='.$rows['rs_id'].'" class="btn theme-btn-dash">View Merchant</a>
                                </div>
                            </div>
                        </div>'; // End of rating block
                        }
                        ?>
                        
                                        </div>
                                        <!--end:row -->
                                    </div>   
                                </div>
                            </div>
                        </div>
                        </section>

    <?php
        }
    ?>






    document.addEventListener("DOMContentLoaded", function() {
    let ratingBlocks = document.querySelectorAll(".rating-block");

    ratingBlocks.forEach(function(ratingBlock) {
        let stars = ratingBlock.querySelectorAll("i");
        let restaurantId = ratingBlock.dataset.resid;

        stars.forEach(function(star, index) {
            // Add mouseover event listener to each star
            star.addEventListener("mouseover", function() {
                // Light up the stars up to the current index
                for (let i = 0; i <= index; i++) {
                    stars[i].classList.add("star-hover");
                }
            });

            // Add mouseleave event listener to each star
            star.addEventListener("mouseleave", function() {
                // Remove hover effect from all stars
                stars.forEach(function(star) {
                    star.classList.remove("star-hover");
                });
            });

            // Add click event listener to each star
            star.addEventListener("click", function() {
                // Update the rating value in the database
                let rating = index + 1; // Rating is 1-based

                // AJAX call to update_rating.php with the selected rating and restaurant ID
                $.ajax({
                    url: "update_rating.php",
                    method: "POST",
                    data: { rating: rating, res_id: restaurantId },
                    success: function() {
                        console.log("Rating updated successfully");
                    },
                    error: function(xhr, status, error) {
                        console.error("Failed to update rating:", error);
                    }
                });

                // Update the data-rating attribute to reflect the selected rating
                ratingBlock.dataset.rating = rating;

                // Toggle the class to fill or empty stars based on the clicked index
                for (let i = 0; i < stars.length; i++) {
                    if (i <= index) {
                        stars[i].classList.add("star-active");
                        stars[i].classList.remove("star-inactive");
                    } else {
                        stars[i].classList.remove("star-active");
                        stars[i].classList.add("star-inactive");
                    }
                }
            });
        });
    });



});


                        <div class="widget-body">
                            <h4>Recent Comments</h4>
                            <ul id="recentComments">
                                <!-- PHP code to display recent comments goes here -->
                            </ul>
                            <a class="btn btn-secondary btn-lg" href="all_comments.php?res_id=<?php echo $_GET['res_id']; ?>">View All Comments</a>
                        </div>


                        document.addEventListener("DOMContentLoaded", function() {
    $(document).ready(function() {
        // Fetch and display recent comments
        fetchComments();

        // Submit comment form
        $("#commentForm").submit(function(event) {
            event.preventDefault();
            var comment = $("#comment").val();
            var user_id = $("#user_id").val(); // Assuming you have a hidden input field for user_id
            var res_id = $("#res_id").val(); // Assuming you have a hidden input field for res_id
    
            $.ajax({
                type: "POST",
                url: "comment.php",
                data: {
                    comment: comment,
                    user_id: user_id,
                    res_id: res_id
                },
                success: function(response) {
                    // Parse JSON response
                    var data = JSON.parse(response);
                    // Clear comment textarea
                    $("#comment").val("");
                    // Append the new comment to the recent comments list
                    $("#recentComments").append("<li>" + data.comment + "</li>");
                },
                error: function(xhr, status, error) {
                    console.error("Error:", error);
                }
            });
        });
    


                    // Fetch and display recent comments
        function fetchComments() {
            $.ajax({
                type: "GET",
                url: "comment.php", // Assuming the PHP script is named comment.php
                data: { res_id: $("#res_id").val() }, // Send restaurant ID as a parameter
                success: function(response) {
                    var comments = JSON.parse(response);
                    var commentsList = $("#recentComments");
                    commentsList.empty();
                    comments.forEach(function(comment) {
                        commentsList.append("<li>" + comment.comment + "</li>");
                    });
                },
                error: function(xhr, status, error) {
                    console.error("Error:", error);
                }
            });
        }
    });
});


Food:

Fruits

Apples
Bananas
Oranges
Grapes
Berries
Strawberries
Blueberries
Raspberries
Melons
Watermelon
Cantaloupe
Honeydew
Citrus Fruits
Lemons
Limes
Grapefruits


Vegetables

Leafy Greens
Lettuce
Spinach
Kale
Cruciferous Vegetables
Broccoli
Cauliflower
Brussels Sprouts
Root Vegetables
Carrots
Potatoes
Onions
Beets
Tomatoes
Cucumbers
Bell Peppers
Avocados
Herbs
Basil
Parsley
Cilantro
Mushrooms
Asparagus
Zucchini
Squash


Meat

Beef
Pork
Lamb
Poultry
Chicken
Turkey
Duck


Seafood

Fish
Shrimp
Lobster
Crab
Oysters
Mussels
Clams


Dairy

Milk
Cheese
Yogurt
Butter
Eggs
Cream
Sour Cream
Cottage Cheese


Grains

Rice
Wheat
Oats
Barley
Quinoa
Corn
Rye
Farro


Pasta

Spaghetti
Penne
Fusilli
Linguine
Lasagna
Macaroni


Bread

White Bread
Whole Wheat Bread
Baguettes
Sourdough
Rye Bread
Multigrain Bread
Ciabatta


Bakery Items

Cakes
Pastries
Cookies
Croissants
Muffins
Donuts
Bagels


Canned Goods

Beans
Soups
Vegetables
Tomatoes
Tuna
Corned Beef
Sardines


Frozen Foods

Frozen Vegetables
Frozen Meals
Frozen Pizzas
Ice Cream
Frozen Desserts
Frozen Fruits
Snacks
Chips
Pretzels
Popcorn
Crackers
Nuts
Trail Mix
Granola Bars


Condiments

Ketchup
Mustard
Mayonnaise
BBQ Sauce
Hot Sauce
Salad Dressings
Relish
Spices and Seasonings
Salt
Pepper
Garlic Powder
Onion Powder
Paprika
Cinnamon
Chili Powder
Cumin


Cooking Oils

Olive Oil
Vegetable Oil
Coconut Oil
Canola Oil
Sesame Oil
Avocado Oil


Sauces

Tomato Sauce
Pasta Sauce
Alfredo Sauce
Soy Sauce
Teriyaki Sauce
Hoisin Sauce


Breakfast Foods

Cereal
Pancake Mix
Syrup
Waffle Mix
Breakfast Bars
Oatmeal
Granola


Desserts

Pudding
Jello
Cake Mixes
Brownie Mixes
Pie Fillings
Gelatin Mixes
Frosting


Baby Food

Pureed Fruits
Pureed Vegetables
Baby Cereal
Baby Snacks
Baby Formula
Beverages:

Water
Still Water
Sparkling Water
Flavored Water


Soft Drinks

Sodas
Colas
Energy Drinks
Flavored Drinks
Root Beer
Ginger Ale


Juice

Orange Juice
Apple Juice
Grape Juice
Cranberry Juice
Pineapple Juice
Mixed Fruit Juice


Coffee

Ground Coffee
Instant Coffee
Coffee Pods
Decaf Coffee
Flavored Coffee
Espresso


Tea

Black Tea
Green Tea
Herbal Tea
White Tea
Oolong Tea
Chai Tea


Sports Drinks

Electrolyte Drinks
Hydration Drinks
Workout Drinks
Recovery Drinks


Alcoholic Beverages

Beer
Wine
Spirits
Cocktails
Whiskey
Vodka
Rum
Tequila
Gin
Brandy
Liqueurs
Champagne
Sparkling Wine
Sake
Cider
Coolers


Energy Drinks

Energy Shots
Performance Drinks
Energy Mixers
Energy Shots
Energy Concentrates


Smoothies

Fruit Smoothies
Vegetable Smoothies
Protein Smoothies
Green Smoothies
Dairy Smoothies
Non-Dairy Smoothies
Custom Smoothies
Fresh Produce:

Apples
Red Apples
Green Apples
Fuji Apples
Honeycrisp Apples
Granny Smith Apples


Bananas

Yellow Bananas
Organic Bananas
Plantains


Oranges

Navel Oranges
Valencia Oranges
Mandarin Oranges
Blood Oranges
Clementines


Grapes

Red Grapes
Green Grapes
Black Grapes
Seedless Grapes
Champagne Grapes
Muscadine Grapes


Berries

Strawberries
Blueberries
Raspberries
Blackberries
Cranberries
Gooseberries
Boysenberries
Marionberries
Lingonberries
Huckleberries


Melons

Watermelon
Cantaloupe
Honeydew Melon
Galia Mel




    <div id="popupWindow2" class="popup">
      <div class="popup-content">
		  <div class="xclose">
		  	<span class="close" onclick="closePopup()">&times;</span>
		  </div>
			<form action="action/infoProduct.php" method="POST" class="myform" name="myForm" id="myForm" enctype="multipart/form-data">
	    <div id="showProduct">
			<input type="hidden" value="<?php echo $_SESSION['store']; ?>" id="storeID" name="storeID">
			<div class="myform-row">
				<div id="divalert" class="divalert" name="divalert"></div>
			</div>
				
			<div class="myform-row">
				<div class="label">
					<label for="productCode" class="myform-label">Product Code#</label>
				</div>
				<div class="input">
					<input type="text" id="productCode" name="productCode" class="myform-input" required>
				</div>
			</div>
			
			<div class="myform-row">
				<div class="label">
					<label for="productImage" class="myform-label">Image</label>
				</div>
				<div class="input" id="addImageFile">
        			<span id="shImg" name="shImg"></span>
				</div>
			</div>
				
			<div class="myform-row">
				<div class="label">
					<label for="productName" class="myform-label">Name:</label>
				</div>
				<div class="input">
					<input type="text" id="proName" name="proName" class="myform-input" required>
				</div>
			</div>

			<div class="myform-row">
				<div class="label">
					<label for="productDescr">Description:</label>
				</div>
				<div class="input">
					<textarea id="proDescr" name="proDescr" class="myform-input" style="height: 80px;" required></textarea>
				</div>
			</div>
			<div class="myform-row">
				<div class="label">
					<label for="proStatus">Categories:</label>
				</div>
				<div class="input">
					<select id="proCat" name="proCat" class="custom-select" required>
						<?php
							$sql = "SELECT * FROM categories WHERE categories_status = 1";
							$result = $db->query($sql);
							if ($result) {
								while ($row = $result->fetch_assoc()) {
									$categoryId = $row['categories_id'];
									$categoryName = $row['categories_name'];

									// Generate an <option> element for each category
									echo "<option value='$categoryId'>$categoryName</option>";
								}
							}
						?>
					</select>
				</div>
			</div>

			<div class="myform-row">
				<div class="label">
					<label for="proStatus">Status:</label>
				</div>
				<div class="input">
					<select id="proStatus" name="proStatus" class="custom-select" required>
						<option value="1" style="color: green;" value="1">Active</option>
						<option value="2" style="color: red;" value="2">Inactive</option>
					</select>
				</div>
				
			</div>
				<input type="hidden" name="proID" id="proID">
				<input type="button" id="addProduct" class="button" value="Add Product" onClick="productInfo('add', this.form)">
				<input type="button" id="editProduct" class="button"  value="Save Change" style="background-color: lightgreen;" onClick="productInfo('edit', this.form)">
				<input type="button" id="delProduct" class="button"  value="Delete product"style="background-color: lightcoral;" onClick="confirmDelete(this.form)">
		</div>

		<div id="shDelArea">
			<div class="myform-row">
				<div class="label">
					<label for="delReason" class="myform-label">Reason:</label>
				</div>
				<div class="input">
					<input type="text" id="delReason" name="delReason" class="myform-input">
					<input type="hidden" id="sellerEmail">
					<input type="hidden" id="proCode">
					<input type="hidden" id="proName">
				</div>
			</div>
			  <div>
			  	<input type="button" id="delbtn" class="button" value="Send Notification" onClick="notifyDelete(this.form)">
			  </div>	
		</div>
    		</form>
      </div>
    </div>
  </section>